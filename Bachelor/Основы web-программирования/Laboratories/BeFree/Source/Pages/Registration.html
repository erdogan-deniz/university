<html>

<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="../../CSS/pages.css ">
    <link rel="stylesheet" href="../../CSS/registration.css  ">
    <script src="/Source/JS scripts/jquery-3.6.1.min.js"></script>
    <script src="https://unpkg.com/imask"></script>
    <script src="/Source/JS scripts/password.js"></script>
    <script src="/Source/JS scripts/autocompletes.js"></script>
</head>


<div>
    <form onsubmit="Message()">
        
        <p id="pages_text">Регистрация аккаунта</p>
        <label for="Name">Введите ваше имя:</label>
        <br>
        <input id="Name" class="Name" placeholder="Иван" type="text" id="Send" maxlength="50" required>
        <div class="name-error">Ваше имя должно содержать больше двух букв</div>
        <br>
        <label for="Surname">Введите вашу фамилию:</label>
        <br>
        <input id="Surname" placeholder="Иванов" type="text" id="Send" maxlength="50" required>
        <br>
        <br>
        <label style="margin-top: 5px" for="Data">Выберите дату рождения:</label>
        <br>
        <input id="Data" type="date" value="2004-01-01" min="1960-01-01" max="2016-01-01" id="Send" required>
        <br>
        <br>
        <label for="Login">Введите ваш логин: </label>
        <br>
        <input id="Login" class="Login" placeholder="examplelogin" type="text" id="Send" maxlength="50" required>
        <div class="login-error">Ваш логин должен содержать больше восьми букв</div>
        <br>
        <br>
        <label for="Email">Введите ваш Email: </label>
        <br>
        <input id="Email" class="Email" placeholder="befree@world.com" type="email" id="Send" maxlength="50" required>
        <br>
        <br>
        
        <label for="pass">Введите ваш пароль:<br>
        </label>
        <input id="pass" class="pass" placeholder="12345" type="password" maxlength="50" minlength="8" required>
        <div class="password-error">Ваш пароль должен содержать больше восьми букв</div>
        <br>
        <br>

        <label for="pass2">Введите повторно пароль:<br></label>
        </label>
        <input id="pass2" class="pass2" placeholder="..." type="password" minlength="8" maxlength="50" required>
        <div class="password2-error">Пароли не совпадают</div>
        <br>
        <br>
        <label for="phone-mask">Введите ваш номер телефона:</label>
        <input id="phone-mask" placeholder="+7-926-666-66-66" type="text" required>
        <br>
        <br>
        <label for="credit-mask">Номер карты лояльности</label>
        <input id="credit-mask" placeholder="0000 0000 0000 0000" type="text" required>
        <br>
        <br>
        <input type="file" name="image" id="file" required>
        <br>
        <br>
        <label for="Gender">Выберите ваш пол:</label>
        <input id="Gender" type="radio" name="gender" id="esc" required>
        <label for="Мужской">Мужской</label>
        <input type="radio" name="gender" value="Женский">
        <label for="Женский">Женский</label>
        <br>
        <br>
        <div class="autocomplete">
            <label for="countryInput">Страна рождения</label>
            <input class="inpauto" id="countryInput">
        </div>
        <br>
        <label for="PersData">Подтвердите согласие на обработку персональных данных:</label>
        <input type="checkbox" id="PersData" required>
        <br>
        <br>
        <label for="Surname">Введите вашу фамилию:</label>
        <br>
        <input id="Surname" placeholder="Иванов" type="text" id="Send" maxlength="50" required>
        <br>
        <br>
        <label for="Send">Подтвердитe согласие на персональную рассылку:</label>
        <input type="checkbox" id="Send" checked required>
        <br>
        <br>
        <br>
        <input id="button" type="submit" value="Зарегестрировать"></input>
    </form>
</div>

<script>
    function Message() {
        alert("Вы зарегистрировались!");
    }

    var phoneMask = IMask(
        document.getElementById('phone-mask'), {
        mask: '+{7}(000)000-00-00'
    });


    var creditMask = IMask(
        document.getElementById('credit-mask'), {
        mask: '0000 0000 0000 0000'
    });

    function checkPassword(form) {
        debugger
        password1 = document.querySelector("input[id ='pass']").value;
        password2 = document.querySelector("input[id ='pass2']").value;

        // If password not entered
        if (password1 == '')
            alert("Введите пароль");
        // If confirm password not entered
        else if (password2 == '')
            alert("Подтвердите ваш пароль");

        // If Not same return False.
        else if (password1 != password2) {
            alert("Пароли не совпадают!")
            return false;
        }

    }
</script>

<script>
    let name = document.getElementsByClassName('Name')
    let login = document.getElementsByClassName('Login')
    let email = document.getElementsByClassName('Email')
    let password = document.getElementsByClassName('Pass')
    let password2 = document.getElementsByClassName('Pass2')
    let nameErr = document.getElementsByClassName("name-error")
    let loginErr = document.getElementsByClassName("login-error")
    let passwordErr = document.getElementsByClassName("password-error")
    let password2Err = document.getElementsByClassName("password2-error")

    console.log(login[0].value)
    console.log(login)

    login[0] = addEventListener('input', () => {
        if (login[0].value.length > 8) {
            login[0].classList.remove('invalid');
            login[0].classList.add('valid');
            loginErr[0].classList.remove('show')
        }
        else {
            login[0].classList.remove('valid');
            login[0].classList.add('invalid');
            loginErr[0].classList.add('show')
        }
    })

    name[0] = addEventListener('input', () => {
        if (name[0].value.length > 2) {
            name[0].classList.remove('invalid');
            name[0].classList.add('valid');
            nameErr[0].classList.remove('show')
        }
        else {
            name[0].classList.remove('valid');
            name[0].classList.add('invalid');
            nameErr[0].classList.add('show')

        }
    })

    password[0] = addEventListener('input', () => { 
        if (password[0].value.length > 8) {
            password[0].classList.remove('invalid');
            password[0].classList.add('valid');
            passwordErr[0].classList.remove('show')

        }
        else {
            password[0].classList.remove('valid');
            password[0].classList.add('invalid');
            passwordErr[0].classList.add('show')

        }
    })

    password2[0] = addEventListener('input', () => { 
        if (password[0].value == password2[0].value){
            password2[0].classList.remove('invalid');
            password2[0].classList.add('valid');
            password2Err[0].classList.remove('show')
        }
        else {
            password2[0].classList.remove('valid');
            password2[0].classList.add('invalid');
            password2Err[0].classList.add('show')
        }
    })

</script>

</html>